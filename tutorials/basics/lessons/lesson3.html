<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        (function () {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qubits and Superposition - quantumstuff.org</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="header">
        <div class="header-content">
            <a href="../../../index.html" class="logo">quantumstuff</a>
            <div class="progress-track">
                <div class="progress-step completed"></div>
                <div class="progress-step completed"></div>
                <div class="progress-step active"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
            </div>
            <div class="header-actions">
                <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme">
                    <i data-lucide="sun" style="width:18px;height:18px"></i>
                </button>
            </div>
        </div>
    </header>

    <button class="mobile-menu-toggle" onclick="toggleSidebar()">‚ò∞ Menu</button>
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Foundations</div>
                <nav class="sidebar-nav">
                    <a href="lesson1.html" class="sidebar-link">1. Welcome to Quantum Computing</a>
                    <a href="lesson2.html" class="sidebar-link">2. Classical Computing Foundations</a>
                    <a href="lesson3.html" class="sidebar-link active">3. Qubits and Superposition</a>
                    <a href="lesson4.html" class="sidebar-link">4. The X Gate</a>
                    <a href="lesson5.html" class="sidebar-link">5. The Hadamard Gate</a>
                    <a href="lesson6.html" class="sidebar-link">6. Multiple Qubits</a>
                    <a href="lesson7.html" class="sidebar-link">7. The CNOT Gate</a>
                    <a href="lesson8.html" class="sidebar-link">8. Entanglement and Quantum Power</a>
                </nav>
            </div>
        </aside>

        <main class="content" id="main-content">
            <header class="lesson-header">
                <div class="lesson-meta">
                    <span class="lesson-number">Lesson 3</span>
                    <span>28 min read</span>
                </div>
                <h1>Qubits and Superposition</h1>
                <p class="subtitle">Now it's time to meet the quantum bit! Discover what makes qubits fundamentally
                    different from classical bits and explore the mind-bending concept of superposition.</p>
            </header>

            <section class="section">
                <h2 class="section-title">About This Lesson</h2>
                <ul>
                    <li>Understand what a qubit is and how it differs from a classical bit</li>
                    <li>Grasp the concept of superposition‚Äîbeing in multiple states at once</li>
                    <li>Learn about quantum measurement and collapse</li>
                    <li>Master quantum notation (ket notation)</li>
                </ul>
                <p><strong>Prerequisites:</strong> Lessons 1-2. You should understand classical bits and binary.</p>
            </section>

            <section class="section" id="qubit">
                <h2 class="section-title">Introducing the Qubit</h2>
                <p>A classical bit can only be 0 or 1. But a <span class="term" data-tooltip="Quantum bit - can be in superposition"><strong>qubit</strong></span> (quantum bit) can be in a
                    <span class="term" data-tooltip="Being in multiple states simultaneously"><strong>superposition</strong></span> of both 0 and 1 simultaneously!</p>

                <h3>The Coin Analogy</h3>
                <p>Imagine a coin spinning in the air. While it's spinning, is it heads or tails? Neither‚Äîand both! Only
                    when you catch it does it "decide" to be heads or tails.</p>

                <ul>
                    <li><strong>Before <span class="term" data-tooltip="Observing causes collapse to definite state">measurement</span>:</strong> The qubit is in both states simultaneously</li>
                    <li><strong>During measurement:</strong> The qubit "collapses" to one definite value</li>
                    <li><strong>After measurement:</strong> The qubit is now definitely 0 or 1</li>
                </ul>

                <div style="margin: 2rem 0; padding: 2rem; background: var(--bg-card); border-radius: 16px; border: 2px solid var(--color-green); box-shadow: 0 4px 16px rgba(22, 163, 74, 0.08);">
                    <h3 style="color: var(--color-green); margin-bottom: 1.5rem; text-align: center; font-size: 1.5rem;">The Spinning Coin Analogy</h3>

                    <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin: 2rem 0;">
                        <div style="text-align: center; padding: 2rem; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">ü™ô</div>
                            <h4 style="color: var(--text-primary); margin-bottom: 0.75rem;">Classical Bit</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9375rem;">A coin sitting on a table<br/>Definitely heads OR tails</p>
                            <div style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-card); border-radius: 8px; font-weight: 600; color: var(--color-amber);">ONE state only</div>
                        </div>

                        <div style="font-size: 2rem; color: var(--color-green); font-weight: 700;">‚Üí</div>

                        <div style="text-align: center; padding: 2rem; background: linear-gradient(135deg, rgba(22, 163, 74, 0.05), rgba(251, 191, 36, 0.05)); border-radius: 12px; border: 2px dashed var(--color-green);">
                            <div style="font-size: 4rem; margin-bottom: 1rem; animation: qubit-spin 3s linear infinite;">ü™ô</div>
                            <h4 style="color: var(--color-green); margin-bottom: 0.75rem;">Quantum Qubit</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9375rem;">A coin spinning in the air<br/>Both heads AND tails!</p>
                            <div style="margin-top: 1rem; padding: 0.75rem; background: var(--bg-card); border-radius: 8px; font-weight: 600; color: var(--color-green);">BOTH states at once</div>
                        </div>
                    </div>

                    <div class="callout">
                        <div class="callout-title">
                            <i data-lucide="info" style="width:16px;height:16px"></i>
                            Key Concept: Superposition
                        </div>
                        <p>While the coin is spinning, is it heads or tails? It's <em>neither‚Äîand both!</em>
                            Only when you catch it (measure it) does it "decide" to be heads or tails. A <span class="term" data-tooltip="Being in multiple states simultaneously">superposition</span> is like that spinning coin: the qubit is in BOTH states at once!</p>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h4 style="color: var(--text-primary); margin-bottom: 1rem; text-align: center;">Three Ways to Understand Superposition</h4>
                        <div style="display: grid; gap: 1rem;">
                            <!-- Analogy Approach -->
                            <details style="padding: 1rem; background: var(--bg-card); border-radius: 8px; border: 1px solid var(--border-subtle);">
                                <summary style="cursor: pointer; font-weight: 600; color: var(--color-green); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üé≠</span> Through Analogy
                                </summary>
                                <div style="margin-top: 1rem; color: var(--text-secondary); line-height: 1.7;">
                                    <p>Think of a spinning coin in the air, or a room where the light switch is both ON and OFF until you look. Imagine Schr√∂dinger's famous cat that's both alive and dead in a box‚Äîthat's superposition! The qubit exists in this "in-between" state until you measure it.</p>
                                </div>
                            </details>

                            <!-- Visual Approach -->
                            <details style="padding: 1rem; background: var(--bg-card); border-radius: 8px; border: 1px solid var(--border-subtle);">
                                <summary style="cursor: pointer; font-weight: 600; color: var(--color-amber); display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üìä</span> Through Visualization
                                </summary>
                                <div style="margin-top: 1rem; color: var(--text-secondary); line-height: 1.7;">
                                    <p>Imagine a bag with 5 red marbles and 5 blue marbles. Without looking inside, you have a 50% chance of pulling red and 50% chance of pulling blue. But once you reach in and grab one, you get a definite color‚Äîeither red or blue, not both. A qubit in superposition is like that bag before you reach in: both outcomes exist with their probabilities. Measurement is like pulling out one marble‚Äîyou get one definite result, and the superposition collapses.</p>
                                </div>
                            </details>

                            <!-- Logical Approach -->
                            <details style="padding: 1rem; background: var(--bg-card); border-radius: 8px; border: 1px solid var(--border-subtle);">
                                <summary style="cursor: pointer; font-weight: 600; color: #b45309; display: flex; align-items: center; gap: 0.5rem;">
                                    <span>üî¢</span> Through Logic
                                </summary>
                                <div style="margin-top: 1rem; color: var(--text-secondary); line-height: 1.7;">
                                    <p><strong>Step 1:</strong> A classical bit has a definite state: 0 OR 1 (one is true).<br>
                                    <strong>Step 2:</strong> A qubit in superposition has probability for each: it could be 0 AND could be 1 (both have non-zero probability).<br>
                                    <strong>Step 3:</strong> Measurement forces a choice, giving you one outcome randomly based on those probabilities.<br>
                                    <strong>Conclusion:</strong> Before measurement = both possibilities exist. After measurement = one definite answer.</p>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="circle-dot" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: The Spinning Coin</span>
                    </div>
                    <div class="demo-content">
                        <div class="coin-container">
                            <div class="coin" id="coin">
                                <div class="coin-face">0</div>
                            </div>
                        </div>
                        <div class="coin-state-label" id="coin-state-label">State: |0‚ü© (definite)</div>
                        <div class="button-group">
                            <button class="btn-primary" onclick="spinCoin()">Put in Superposition</button>
                            <button class="btn-secondary" onclick="measureCoin()">Measure</button>
                            <button class="btn-secondary" onclick="resetCoin()">Reset to |0‚ü©</button>
                        </div>
                        <div id="coin-result" class="result-text"></div>
                    </div>
                </div>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="box" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: Schr√∂dinger's Cat</span>
                    </div>
                    <div class="demo-content">
                        <p style="text-align: center; margin-bottom: 1.5rem; color: var(--text-secondary);">
                            The famous thought experiment: a cat in a box is in superposition‚Äîboth alive AND dead‚Äîuntil we observe!
                        </p>

                        <!-- Advanced Quantum Box -->
                        <div class="quantum-container">
                            <!-- Wave Effect Background -->
                            <div class="quantum-waves" id="quantum-waves">
                                <div class="wave wave-1"></div>
                                <div class="wave wave-2"></div>
                                <div class="wave wave-3"></div>
                            </div>

                            <!-- Main Box -->
                            <div class="schrodinger-advanced-box" id="box-visual">
                                <!-- Probability Visualization -->
                                <div class="probability-bars" id="probability-bars">
                                    <div class="prob-bar alive-bar">
                                        <div class="prob-icon">üò∫</div>
                                        <div class="prob-label">Alive</div>
                                        <div class="prob-value">50%</div>
                                    </div>
                                    <div class="prob-divider">
                                        <div class="quantum-vs">?</div>
                                    </div>
                                    <div class="prob-bar dead-bar">
                                        <div class="prob-icon">üíÄ</div>
                                        <div class="prob-label">Dead</div>
                                        <div class="prob-value">50%</div>
                                    </div>
                                </div>

                                <!-- Cat States Container -->
                                <div class="cat-display" id="cat-display">
                                    <div class="superposition-view" id="superposition-view">
                                        <div class="state-orb alive-orb">
                                            <span class="orb-emoji">üò∫</span>
                                            <div class="orb-glow"></div>
                                        </div>
                                        <div class="superposition-ripple"></div>
                                        <div class="state-orb dead-orb">
                                            <span class="orb-emoji">üíÄ</span>
                                            <div class="orb-glow"></div>
                                        </div>
                                    </div>

                                    <!-- Result View (hidden initially) -->
                                    <div class="measurement-result" id="measurement-result" style="display: none;">
                                        <div class="result-orb" id="result-orb">
                                            <span class="result-emoji" id="result-emoji"></span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Status Label -->
                                <div class="quantum-status" id="quantum-status">
                                    <div class="status-badge superposition">
                                        <i data-lucide="radio" style="width:14px;height:14px"></i>
                                        <span>Quantum Superposition</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Controls -->
                        <div class="button-group" style="margin-top: 2rem;">
                            <button class="btn-primary" id="open-box-btn" onclick="openSchrodingerBox()">
                                <i data-lucide="eye" style="width:16px;height:16px;margin-right:0.5rem"></i>
                                Observe (Measure!)
                            </button>
                            <button class="btn-secondary" id="reset-box-btn" onclick="resetSchrodingerBox()" style="display: none;">
                                <i data-lucide="refresh-cw" style="width:16px;height:16px;margin-right:0.5rem"></i>
                                Reset Experiment
                            </button>
                        </div>

                        <!-- Result Message -->
                        <div id="cat-result" class="result-text"></div>
                    </div>
                </div>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="atom" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: Bit vs Qubit</span>
                    </div>
                    <div class="demo-content">
                        <!-- Advanced Bit vs Qubit Comparison -->
                        <div class="bit-qubit-advanced-comparison">
                            <!-- Classical Bit Card -->
                            <div class="comparison-card bit-card">
                                <div class="card-header">
                                    <div class="card-icon">üíæ</div>
                                    <h4>Classical Bit</h4>
                                    <div class="card-tag deterministic" id="bit-tag">Deterministic</div>
                                </div>

                                <div class="state-display-container">
                                    <div class="state-circle" id="bit-circle">
                                        <div class="state-value" id="bit-value">0</div>
                                        <div class="state-ring"></div>
                                    </div>
                                </div>

                                <div class="state-label" id="bit-label">
                                    Definite State: |0‚ü©
                                </div>

                                <div class="control-section">
                                    <button class="btn-control btn-bit" onclick="toggleClassicalBit()">
                                        <i data-lucide="repeat" style="width:16px;height:16px"></i>
                                        Flip Bit
                                    </button>
                                </div>

                                <div class="info-box">
                                    <p><strong>Always definite:</strong> Either 0 <span style="color: var(--text-secondary);">OR</span> 1</p>
                                    <p><small>No superposition possible</small></p>
                                </div>
                            </div>

                            <!-- VS Divider -->
                            <div class="comparison-divider">
                                <div class="divider-circle">
                                    <span>VS</span>
                                </div>
                                <div class="divider-line"></div>
                            </div>

                            <!-- Quantum Qubit Card -->
                            <div class="comparison-card qubit-card">
                                <div class="card-header">
                                    <div class="card-icon">‚öõÔ∏è</div>
                                    <h4>Quantum Qubit</h4>
                                    <div class="card-tag quantum" id="qubit-tag">Probabilistic</div>
                                </div>

                                <div class="state-display-container">
                                    <div id="qubit-particles-l3" class="particle-container"></div>
                                    <div class="state-circle qubit-circle" id="qubit-circle">
                                        <div class="superposition-indicator" id="superposition-indicator" style="display: none;">
                                            <div class="dual-state">
                                                <span class="state-part zero">0</span>
                                                <span class="state-part one">1</span>
                                            </div>
                                        </div>
                                        <div class="state-value" id="qubit-value" style="display: block;">‚öõÔ∏è</div>
                                        <div class="state-ring qubit-ring"></div>
                                        <div class="quantum-glow"></div>
                                    </div>
                                </div>

                                <div class="state-label" id="qubit-label">
                                    Initial State: |0‚ü©
                                </div>

                                <div class="control-section">
                                    <button class="btn-control btn-qubit" id="superposition-btn" onclick="putInSuperpositionL3()">
                                        <i data-lucide="zap" style="width:16px;height:16px"></i>
                                        Create Superposition
                                    </button>
                                    <button class="btn-control btn-measure" id="measure-btn-l3" onclick="measureQubitL3()" disabled>
                                        <i data-lucide="eye" style="width:16px;height:16px"></i>
                                        Measure
                                    </button>
                                </div>

                                <div class="info-box" id="qubit-info">
                                    <p><strong>Can be both:</strong> 0 <span style="color: var(--color-green);">AND</span> 1</p>
                                    <p><small>Superposition until measured</small></p>
                                </div>
                            </div>
                        </div>

                        <!-- Result Message -->
                        <div id="qubit-explanation-l3" class="comparison-result">
                            <i data-lucide="info" style="width:18px;height:18px"></i>
                            <span>Click "Create Superposition" to put the qubit in both states, then "Measure" to collapse it!</span>
                        </div>

                        <!-- Note on Probabilistic -->
                        <div style="margin-top: 1.5rem; padding: 1rem 1.5rem; background: var(--bg-accent); border-radius: 8px; font-size: 0.875rem; color: var(--text-secondary);">
                            <strong style="color: var(--text-primary);">üí° Why "Probabilistic"?</strong> Quantum physics follows predictable rules, but when you measure a qubit in superposition, you get a random result. We can only predict the <em>chances</em> of each outcome!
                        </div>
                    </div>
                </div>

                <div class="why-matters">
                    <h4>üí° Why This Matters</h4>
                    <p><strong>Real Application:</strong> Google's Sycamore quantum computer uses 53 qubits in superposition to perform calculations in 200 seconds that would take the world's fastest classical supercomputer 10,000 years!</p>
                </div>

                <div class="callout" style="margin: 2rem 0; background: rgba(251, 191, 36, 0.1); border-left: 4px solid var(--color-amber);">
                    <div class="callout-title" style="color: var(--color-amber);">
                        <i data-lucide="alert-triangle" style="width:16px;height:16px"></i>
                        Common Misconception
                    </div>
                    <p style="margin: 0.5rem 0; color: var(--text-primary);"><strong style="color: #ef4444;">‚ùå Wrong:</strong> "Superposition means the qubit is rapidly switching between 0 and 1, we just don't know which"</p>
                    <p style="margin: 0.5rem 0; color: var(--text-primary);"><strong style="color: var(--color-green);">‚úì Correct:</strong> The qubit is genuinely in BOTH states at once‚Äînot switching, not unknown‚Äîit's fundamentally both until measured!</p>
                </div>

                <details class="advanced-section type-math">
                    <summary>üî¨ For Advanced Learners: The Mathematics</summary>
                    <div class="advanced-content">
                        <p>Mathematically, a qubit in <span class="term" data-tooltip="Being in multiple states simultaneously">superposition</span> is written as:</p>
                        <div style="text-align: center; font-size: 1.25rem; margin: 1rem 0; font-family: 'Monaco', monospace;">
                            |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©
                        </div>
                        <p>Where:</p>
                        <ul>
                            <li><strong>|œà‚ü©</strong> (pronounced "ket sigh" or "ket psi") represents the quantum state</li>
                            <li><strong>Œ± and Œ≤</strong> (pronounced "alpha" and "beta") are complex numbers called "amplitudes"</li>
                            <li><strong>|0‚ü© and |1‚ü©</strong> (pronounced "ket zero" and "ket one") are the basis states</li>
                        </ul>
                        <p>The probabilities come from squaring the amplitudes:</p>
                        <ul>
                            <li>Probability of measuring 0: |Œ±|¬≤</li>
                            <li>Probability of measuring 1: |Œ≤|¬≤</li>
                            <li>Total probability must equal 1: |Œ±|¬≤ + |Œ≤|¬≤ = 1</li>
                        </ul>
                    </div>
                </details>
            </section>

            <section class="section" id="measurement">
                <h2 class="section-title">Quantum Measurement</h2>
                <p>When you measure a qubit in superposition, you can't predict which result you'll get! It's truly
                    random. But you CAN predict the <span class="term" data-tooltip="Likelihood of measuring a state"><strong>probability</strong></span> of each outcome.</p>

                <ul>
                    <li><strong>Measurement is destructive:</strong> Once measured, superposition is destroyed</li>
                    <li><strong>Measurement is probabilistic:</strong> You get 0 or 1 randomly based on probabilities
                    </li>
                    <li><strong>Measurement is irreversible:</strong> You can't "un-measure" a qubit</li>
                </ul>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="bar-chart-2" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: Measurement Statistics</span>
                    </div>
                    <div class="demo-content" style="position: relative; overflow: hidden;">
                        <!-- Control Panel -->
                        <div style="text-align: center; margin-bottom: 2rem;">
                            <div style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: linear-gradient(135deg, var(--color-green), var(--color-green-dark)); color: white; border-radius: 100px; font-size: 0.875rem; font-weight: 600; margin-bottom: 1rem;">
                                <i data-lucide="zap" style="width:14px;height:14px"></i>
                                <span>Quantum State: |+‚ü©</span>
                            </div>
                            <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 1.5rem;">Expected: 50% each</div>

                            <div class="button-group">
                                <button class="btn-primary" onclick="measureOnce()">Measure 1x</button>
                                <button class="btn-primary" onclick="measure10()">Measure 10x</button>
                                <button class="btn-primary" onclick="measure100()">Measure 100x</button>
                                <button class="btn-secondary" onclick="resetMeasurements()">
                                    <i data-lucide="refresh-ccw" style="width:14px;height:14px;margin-right:0.25rem"></i>
                                    Reset
                                </button>
                            </div>
                        </div>

                        <!-- Statistics Cards -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background: var(--bg-card); border-radius: 12px; padding: 1.5rem; border: 2px solid rgba(59, 130, 246, 0.3); text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìä</div>
                                <div style="font-size: 2rem; font-weight: 700; color: var(--text-primary);" id="total-measurements">0</div>
                                <div style="font-size: 0.8125rem; color: var(--text-secondary); margin-top: 0.5rem;">Total Measurements</div>
                            </div>

                            <div style="background: var(--bg-card); border-radius: 12px; padding: 1.5rem; border: 2px solid rgba(22, 163, 74, 0.3); text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">0Ô∏è‚É£</div>
                                <div>
                                    <span style="font-size: 2rem; font-weight: 700; color: var(--text-primary);" id="zero-count">0</span>
                                    <span style="font-size: 1.125rem; font-weight: 600; color: var(--text-secondary); margin-left: 0.5rem;" id="zero-percent">0%</span>
                                </div>
                                <div style="font-size: 0.8125rem; color: var(--text-secondary); margin-top: 0.5rem;">Measured |0‚ü©</div>
                            </div>

                            <div style="background: var(--bg-card); border-radius: 12px; padding: 1.5rem; border: 2px solid rgba(251, 191, 36, 0.3); text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">1Ô∏è‚É£</div>
                                <div>
                                    <span style="font-size: 2rem; font-weight: 700; color: var(--text-primary);" id="one-count">0</span>
                                    <span style="font-size: 1.125rem; font-weight: 600; color: var(--text-secondary); margin-left: 0.5rem;" id="one-percent">0%</span>
                                </div>
                                <div style="font-size: 0.8125rem; color: var(--text-secondary); margin-top: 0.5rem;">Measured |1‚ü©</div>
                            </div>
                        </div>

                        <!-- Visual Histogram -->
                        <div style="background: var(--bg-card); border-radius: 12px; padding: 2rem; border: 2px solid var(--border-subtle);">
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 1.125rem; font-weight: 700; min-width: 50px; color: var(--color-green);">|0‚ü©</div>
                                    <div style="flex: 1; height: 40px; background: var(--bg-secondary); border-radius: 20px; position: relative; overflow: hidden;">
                                        <div id="zero-bar" style="height: 100%; border-radius: 20px; background: linear-gradient(90deg, var(--color-green), var(--color-green-dark)); box-shadow: 0 0 20px rgba(22, 163, 74, 0.4); width: 0%; transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);"></div>
                                    </div>
                                    <div style="font-size: 1.125rem; font-weight: 700; color: var(--text-primary); min-width: 40px; text-align: right;" id="zero-bar-value">0</div>
                                </div>
                            </div>

                            <div>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="font-size: 1.125rem; font-weight: 700; min-width: 50px; color: var(--color-amber);">|1‚ü©</div>
                                    <div style="flex: 1; height: 40px; background: var(--bg-secondary); border-radius: 20px; position: relative; overflow: hidden;">
                                        <div id="one-bar" style="height: 100%; border-radius: 20px; background: linear-gradient(90deg, var(--color-amber), #f59e0b); box-shadow: 0 0 20px rgba(251, 191, 36, 0.4); width: 0%; transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);"></div>
                                    </div>
                                    <div style="font-size: 1.125rem; font-weight: 700; color: var(--text-primary); min-width: 40px; text-align: right;" id="one-bar-value">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="notation">
                <h2 class="section-title">Quantum Notation (Ket Notation)</h2>
                <p>Quantum physicists use <span class="term" data-tooltip="Notation for quantum states like |0‚ü©"><strong>ket notation</strong></span> to represent quantum states:</p>

                <ul>
                    <li><strong>|0‚ü©</strong> ‚Äî "ket zero" ‚Äî the qubit is definitely in state 0</li>
                    <li><strong>|1‚ü©</strong> ‚Äî "ket one" ‚Äî the qubit is definitely in state 1</li>
                    <li><strong>|+‚ü©</strong> ‚Äî equal superposition of |0‚ü© and |1‚ü© (50% each)</li>
                </ul>

                <div class="formula-box">|œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©</div>

                <p>Where <strong>Œ±</strong> and <strong>Œ≤</strong> are complex numbers called <span class="term" data-tooltip="Complex number determining probability"><strong>amplitudes</strong></span>, and |Œ±|¬≤ is the <strong>probability</strong> of measuring 0 and |Œ≤|¬≤ is the <strong>probability</strong> of measuring 1.</p>

                <div class="callout" style="margin: 2rem 0;">
                    <div class="callout-title">
                        <i data-lucide="alert-circle" style="width:16px;height:16px"></i>
                        Important: Amplitude vs Probability
                    </div>
                    <p><strong>Don't confuse these two concepts!</strong></p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1rem;">
                        <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <h4 style="color: var(--color-green); margin-bottom: 0.5rem;">Amplitude (Œ±, Œ≤)</h4>
                            <ul style="font-size: 0.9375rem; margin: 0; padding-left: 1.5rem;">
                                <li>Complex numbers</li>
                                <li>Can be negative or imaginary</li>
                                <li>Describe the quantum state</li>
                                <li>Used in calculations</li>
                            </ul>
                        </div>
                        <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">Probability (|Œ±|¬≤, |Œ≤|¬≤)</h4>
                            <ul style="font-size: 0.9375rem; margin: 0; padding-left: 1.5rem;">
                                <li>Real numbers (always positive)</li>
                                <li>Between 0 and 1</li>
                                <li>What you actually measure</li>
                                <li>Found by squaring: |Œ±|¬≤</li>
                            </ul>
                        </div>
                    </div>
                    <p style="margin-top: 1rem;"><strong>Example:</strong> For |+‚ü© = (1/‚àö2)|0‚ü© + (1/‚àö2)|1‚ü©</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>Amplitude of |0‚ü©: Œ± = 1/‚àö2 ‚âà 0.707</li>
                        <li>Probability of measuring 0: |Œ±|¬≤ = (1/‚àö2)¬≤ = 1/2 = 50%</li>
                    </ul>
                </div>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="compass" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: State Explorer</span>
                    </div>
                    <div class="demo-content">
                        <div class="state-selector">
                            <label><strong>Select a quantum state:</strong></label>
                            <select id="state-dropdown" onchange="updateStateInfo()">
                                <option value="0">|0‚ü© - Definitely zero</option>
                                <option value="1">|1‚ü© - Definitely one</option>
                                <option value="plus">|+‚ü© - Equal superposition (50/50)</option>
                            </select>
                        </div>
                        <div class="state-info" id="state-info">
                            <div class="prob-row">
                                <span>Probability of |0‚ü©:</span>
                                <div class="prob-bar-container">
                                    <div class="prob-bar-fill" id="prob-0-bar" style="width:100%"></div>
                                </div>
                                <strong id="prob-0-text">100%</strong>
                            </div>
                            <div class="prob-row">
                                <span>Probability of |1‚ü©:</span>
                                <div class="prob-bar-container">
                                    <div class="prob-bar-fill" id="prob-1-bar" style="width:0%"></div>
                                </div>
                                <strong id="prob-1-text">0%</strong>
                            </div>
                        </div>
                        <button class="btn-primary" onclick="testStateWithMeasurements()">Test with 50
                            Measurements</button>
                        <div id="state-test-results" class="result-text"></div>
                    </div>
                </div>
            </section>

            <section class="section" id="measurement">
                <h2 class="section-title">Understanding Measurement</h2>
                <p>Measurement is one of the most fascinating and important aspects of quantum computing. When you measure a qubit in superposition, something dramatic happens...</p>

                <div style="margin: 2rem 0; padding: 2rem; background: var(--bg-card); border-radius: 16px; border: 2px solid var(--color-amber);">
                    <h3 style="color: var(--color-amber); margin-bottom: 1.5rem;">What Happens During Measurement?</h3>

                    <div style="display: grid; gap: 1.5rem;">
                        <div style="display: flex; align-items: start; gap: 1rem;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--color-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">1</div>
                            <div>
                                <h4 style="color: var(--text-primary); margin-bottom: 0.5rem;">Before Measurement: Superposition</h4>
                                <p style="margin: 0;">The qubit exists in a superposition: |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©</p>
                                <p style="margin-top: 0.5rem; font-style: italic; color: var(--text-secondary);">The qubit is "both 0 and 1" simultaneously</p>
                            </div>
                        </div>

                        <div style="display: flex; align-items: start; gap: 1rem;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: var(--color-amber); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">2</div>
                            <div>
                                <h4 style="color: var(--text-primary); margin-bottom: 0.5rem;">During Measurement: Collapse</h4>
                                <p style="margin: 0;">The superposition <strong>collapses</strong> to either |0‚ü© or |1‚ü©</p>
                                <p style="margin-top: 0.5rem; font-style: italic; color: var(--text-secondary);">This collapse is random, but follows probability rules</p>
                            </div>
                        </div>

                        <div style="display: flex; align-items: start; gap: 1rem;">
                            <div style="flex-shrink: 0; width: 40px; height: 40px; background: #b45309; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">3</div>
                            <div>
                                <h4 style="color: var(--text-primary); margin-bottom: 0.5rem;">After Measurement: Classical Bit</h4>
                                <p style="margin: 0;">You get a definite result: either 0 or 1</p>
                                <p style="margin-top: 0.5rem; font-style: italic; color: var(--text-secondary);">The superposition is destroyed‚Äîyou can't "unmeasure"!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="callout" style="margin: 2rem 0;">
                    <div class="callout-title">
                        <i data-lucide="info" style="width:16px;height:16px"></i>
                        The Probability Rule (Born Rule)
                    </div>
                    <p>When measuring |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©:</p>
                    <ul>
                        <li><strong>Probability of getting 0:</strong> |Œ±|¬≤ (square the amplitude!)</li>
                        <li><strong>Probability of getting 1:</strong> |Œ≤|¬≤</li>
                        <li><strong>These must sum to 1:</strong> |Œ±|¬≤ + |Œ≤|¬≤ = 1 (normalization)</li>
                    </ul>
                    <p style="margin-top: 1rem;"><strong>Example:</strong> For |+‚ü© = (1/‚àö2)|0‚ü© + (1/‚àö2)|1‚ü©</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>P(0) = |(1/‚àö2)|¬≤ = 1/2 = 50%</li>
                        <li>P(1) = |(1/‚àö2)|¬≤ = 1/2 = 50%</li>
                    </ul>
                </div>

                <div style="margin: 2rem 0; padding: 1.5rem; background: rgba(251, 191, 36, 0.05); border-left: 4px solid var(--color-amber); border-radius: 8px;">
                    <h4 style="color: var(--color-amber); margin-bottom: 0.75rem;">‚ö†Ô∏è Key Facts About Measurement</h4>
                    <ul style="margin: 0;">
                        <li><strong>Measurement is destructive:</strong> It destroys the superposition</li>
                        <li><strong>You can only measure once:</strong> Second measurement gives the same result</li>
                        <li><strong>Results are random:</strong> But follow probability distributions</li>
                        <li><strong>Information is lost:</strong> You can't recover the original amplitudes Œ± and Œ≤</li>
                    </ul>
                </div>

                <p style="margin-top: 2rem;">This is why quantum computing is tricky! We need to design algorithms that extract useful information through measurements while carefully preserving superposition where we need it.</p>
            </section>

            <!-- Learning Checkpoint -->
            <div class="callout" style="margin: 2rem 0; background: var(--bg-highlight); border-left: 4px solid var(--color-purple);">
                <div class="callout-title">
                    <i data-lucide="check-circle" style="width:16px;height:16px"></i>
                    ‚úì Learning Checkpoint
                </div>
                <p style="margin-bottom: 0.75rem;"><strong>Before moving on, can you:</strong></p>
                <ul class="checklist" style="list-style: none; padding-left: 0;">
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Explain what superposition means in your own words?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Describe what happens when you measure a qubit?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Explain the difference between amplitude and probability?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Calculate |Œ±|¬≤ given an amplitude Œ±?</li>
                </ul>
                <p style="margin-top: 1rem; font-size: 0.875rem; opacity: 0.9;"><em>If you checked all boxes, excellent! You've mastered the core concepts. If not, review the sections above.</em></p>
            </div>

            <div class="callout" style="margin: 2rem 0;">
                <div class="callout-title">
                    <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
                    What's Next: Quantum Gates
                </div>
                <p>You now understand superposition and measurement‚Äîthe core concepts of quantum computing! But how do we <strong>create</strong> superposition? How do we <strong>manipulate</strong> qubits to perform computations?</p>
                <p style="margin-top: 1rem;">That's where <strong>quantum gates</strong> come in! Quantum gates are operations that transform qubit states:</p>
                <ul style="margin-top: 0.5rem;">
                    <li><strong>X gate:</strong> Flips |0‚ü© ‚Üî |1‚ü© (like classical NOT)</li>
                    <li><strong>H gate:</strong> Creates and destroys superposition</li>
                    <li><strong>And many more...</strong></li>
                </ul>
                <p style="margin-top: 1rem; font-style: italic; color: var(--text-secondary);">Ready to start building quantum circuits? Let's learn the gates!</p>
            </div>

            <!-- Quick Reference Card -->
            <section class="section" id="quick-reference">
                <h2 class="section-title">üìã Quick Reference Card</h2>
                <div style="background: var(--bg-card); border: 2px solid var(--color-green); border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                    <h3 style="color: var(--color-green); margin-bottom: 1.5rem;">Qubits & Superposition Cheat Sheet</h3>

                    <div style="display: grid; gap: 1.5rem;">
                        <div>
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">Key Notation</h4>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="background: var(--bg-secondary);">
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Notation</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Pronunciation</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Meaning</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>|0‚ü©</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">ket zero</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Definitely in state 0</td>
                                </tr>
                                <tr style="background: var(--bg-secondary);">
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>|1‚ü©</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">ket one</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Definitely in state 1</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>|+‚ü©</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">ket plus</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Equal superposition (50% each)</td>
                                </tr>
                                <tr style="background: var(--bg-secondary);">
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>|œà‚ü©</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">ket sigh (or psi)</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">General quantum state</td>
                                </tr>
                            </table>
                        </div>

                        <div>
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">Amplitude vs Probability</h4>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="background: var(--bg-secondary);">
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Concept</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">What It Is</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Key Property</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>Amplitude (Œ±, Œ≤)</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Complex numbers</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Describe the quantum state</td>
                                </tr>
                                <tr style="background: var(--bg-secondary);">
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>Probability (|Œ±|¬≤, |Œ≤|¬≤)</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Real numbers (0-1)</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">What you measure</td>
                                </tr>
                            </table>
                        </div>

                        <div>
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">General Superposition Formula</h4>
                            <div style="background: var(--bg-secondary); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; text-align: center; font-size: 1.125rem;">
                                |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©
                            </div>
                            <p style="margin-top: 0.75rem; font-size: 0.9375rem;"><strong>Where:</strong></p>
                            <ul style="font-size: 0.9375rem; margin: 0.5rem 0;">
                                <li>Œ±, Œ≤ = complex amplitudes</li>
                                <li>|Œ±|¬≤ = probability of measuring 0</li>
                                <li>|Œ≤|¬≤ = probability of measuring 1</li>
                                <li>|Œ±|¬≤ + |Œ≤|¬≤ = 1 (normalization)</li>
                            </ul>
                        </div>

                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--color-green);">
                            <p style="margin: 0; font-size: 0.9375rem;"><strong>üí° Key Insight:</strong> Measurement <strong>collapses</strong> superposition to either |0‚ü© or |1‚ü©. The probabilities are determined by the squared amplitudes (Born rule).</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Glossary -->
            <section class="section" id="glossary">
                <h2 class="section-title">Glossary</h2>
                <dl class="term-list">
                    <dt>Qubit</dt>
                    <dd><strong>Pronunciation:</strong> KYOO-bit<br><strong>Definition:</strong> A quantum bit‚Äîthe basic unit of quantum information that can be in superposition</dd>

                    <dt>Superposition</dt>
                    <dd><strong>Pronunciation:</strong> soo-per-puh-ZI-shun<br><strong>Definition:</strong> The ability of a quantum system to be in multiple states simultaneously</dd>

                    <dt>Ket Notation</dt>
                    <dd><strong>Pronunciation:</strong> ket<br><strong>Definition:</strong> A mathematical notation using |‚ü© to represent quantum states (e.g., |0‚ü©, |1‚ü©, |+‚ü©)</dd>

                    <dt>|0‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket zero<br><strong>Definition:</strong> The quantum state representing definitely 0</dd>

                    <dt>|1‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket one<br><strong>Definition:</strong> The quantum state representing definitely 1</dd>

                    <dt>|+‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket plus<br><strong>Definition:</strong> Equal superposition state: 50% chance of measuring 0 or 1</dd>

                    <dt>|œà‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket sigh (or ket psi)<br><strong>Definition:</strong> Symbol for a general quantum state</dd>

                    <dt>Amplitude</dt>
                    <dd><strong>Pronunciation:</strong> AM-plih-tood<br><strong>Definition:</strong> A complex number (Œ± or Œ≤) that determines the probability of measuring a state. The probability is |amplitude|¬≤</dd>

                    <dt>Measurement</dt>
                    <dd><strong>Definition:</strong> The act of observing a qubit, which collapses superposition to either |0‚ü© or |1‚ü©</dd>

                    <dt>Collapse</dt>
                    <dd><strong>Definition:</strong> When measurement causes a superposition to become a definite state (|0‚ü© or |1‚ü©)</dd>

                    <dt>Born Rule</dt>
                    <dd><strong>Definition:</strong> The probability of measuring a state is the squared magnitude of its amplitude: P = |Œ±|¬≤</dd>

                    <dt>Normalization</dt>
                    <dd><strong>Definition:</strong> The requirement that all probabilities sum to 1: |Œ±|¬≤ + |Œ≤|¬≤ = 1</dd>
                </dl>
            </section>

            <section class="section quiz-section" id="quiz">
                <h2 class="section-title">Test Your Understanding</h2>

                <div class="quiz-question" data-question="1">
                    <p class="question-text"><strong>Q1:</strong> What is superposition?</p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q1" value="a"><span>A qubit being very
                                fast</span></label>
                        <label class="option"><input type="radio" name="q1" value="b"><span>A qubit being in multiple
                                states simultaneously</span></label>
                        <label class="option"><input type="radio" name="q1" value="c"><span>A qubit being turned
                                off</span></label>
                    </div>
                    <div class="feedback" id="feedback-1"></div>
                </div>

                <div class="quiz-question" data-question="2">
                    <p class="question-text"><strong>Q2:</strong> What happens when you measure a qubit in
                        superposition?</p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q2" value="a"><span>It stays in
                                superposition</span></label>
                        <label class="option"><input type="radio" name="q2" value="b"><span>It collapses to either |0‚ü©
                                or |1‚ü©</span></label>
                        <label class="option"><input type="radio" name="q2" value="c"><span>It disappears</span></label>
                    </div>
                    <div class="feedback" id="feedback-2"></div>
                </div>

                <div class="quiz-question" data-question="3">
                    <p class="question-text"><strong>Q3:</strong> If |+‚ü© is measured 100 times, how many |0‚ü© results?
                    </p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q3" value="a"><span>0 times</span></label>
                        <label class="option"><input type="radio" name="q3" value="b"><span>25 times</span></label>
                        <label class="option"><input type="radio" name="q3" value="c"><span>~50 times</span></label>
                    </div>
                    <div class="feedback" id="feedback-3"></div>
                </div>

                <button class="btn-primary" onclick="checkAnswersL3(this)">Check Answers</button>
                <div id="quiz-score" class="quiz-result"></div>
            </section>

            <nav class="nav-footer">
                <a href="lesson2.html" class="nav-btn nav-btn-prev">‚Üê Previous</a>
                <a href="lesson4.html" class="nav-btn nav-btn-next">Next: X Gate ‚Üí</a>
            </nav>
        </main>

        <aside class="toc">
            <div class="toc-title">On This Page</div>
            <nav class="toc-list">
                <a href="#qubit" class="toc-link">Introducing the Qubit</a>
                <a href="#measurement" class="toc-link">Quantum Measurement</a>
                <a href="#notation" class="toc-link">Quantum Notation</a>
                <a href="#quiz" class="toc-link">Quiz</a>
            </nav>
        </aside>
    </div>

    <script src="../js/quantum-utils.js"></script>
    <script src="../js/lesson3.js"></script>
    <script>
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
            document.querySelector('.sidebar-overlay').classList.toggle('open');
        }

        // Bit vs Qubit Interactive Functions
        // Bit vs Qubit Advanced Interactive
        function toggleClassicalBit() {
            const bitValue = document.getElementById('bit-value');
            const bitLabel = document.getElementById('bit-label');
            if (!bitValue) return;

            const newValue = bitValue.textContent === '0' ? '1' : '0';

            bitValue.style.transform = 'scale(0) rotateY(180deg)';
            bitValue.style.opacity = '0';

            setTimeout(() => {
                bitValue.textContent = newValue;
                bitLabel.textContent = `Definite State: |${newValue}‚ü©`;
                bitValue.style.transform = 'scale(1) rotateY(0deg)';
                bitValue.style.opacity = '1';
            }, 200);
        }

        let qubitInSuperpositionL3 = false;
        let particleIntervalL3 = null;

        function createParticleL3() {
            const container = document.getElementById('qubit-particles-l3');
            if (!container) return;

            const particle = document.createElement('div');
            const size = Math.random() * 8 + 4;
            const isZero = Math.random() > 0.5;

            particle.textContent = isZero ? '0' : '1';
            particle.style.cssText = `
                position: absolute;
                left: ${Math.random() * 100}%;
                top: ${Math.random() * 100}%;
                font-size: ${size}px;
                color: ${isZero ? 'var(--color-green)' : 'var(--color-amber)'};
                font-weight: 700;
                opacity: 0.7;
                animation: particle-float 2s ease-out;
                pointer-events: none;
                z-index: 1;
            `;

            container.appendChild(particle);

            setTimeout(() => {
                if (particle && particle.parentNode) {
                    particle.remove();
                }
            }, 2000);
        }

        function putInSuperpositionL3() {
            if (qubitInSuperpositionL3) return;
            qubitInSuperpositionL3 = true;

            const qubitCircle = document.getElementById('qubit-circle');
            const qubitValue = document.getElementById('qubit-value');
            const superpositionIndicator = document.getElementById('superposition-indicator');
            const qubitLabel = document.getElementById('qubit-label');
            const qubitTag = document.getElementById('qubit-tag');
            const measureBtn = document.getElementById('measure-btn-l3');
            const superpositionBtn = document.getElementById('superposition-btn');
            const explanation = document.getElementById('qubit-explanation-l3');

            if (!qubitCircle || !qubitValue || !superpositionIndicator) return;

            // Hide initial value, show superposition
            qubitValue.style.display = 'none';
            superpositionIndicator.style.display = 'flex';

            // Add active state
            qubitCircle.classList.add('active');

            // Update tag
            if (qubitTag) {
                qubitTag.className = 'card-tag superposition';
                qubitTag.textContent = 'In Superposition';
            }

            // Update label
            if (qubitLabel) {
                qubitLabel.innerHTML = 'Superposition: <span style="color: var(--color-green);">Œ±|0‚ü© + Œ≤|1‚ü©</span>';
            }

            // Update explanation
            if (explanation) {
                const icon = explanation.querySelector('i');
                explanation.innerHTML = '';
                if (icon) explanation.appendChild(icon.cloneNode());
                const span = document.createElement('span');
                span.innerHTML = '‚ú® Qubit is in <strong>both states</strong> simultaneously! Click "Measure" to collapse the superposition.';
                span.style.color = 'var(--color-green)';
                explanation.appendChild(span);
            }

            // Start particle effects
            particleIntervalL3 = setInterval(createParticleL3, 150);

            // Enable measure button
            if (measureBtn) measureBtn.disabled = false;
            if (superpositionBtn) superpositionBtn.disabled = true;
        }

        function measureQubitL3() {
            if (!qubitInSuperpositionL3) return;

            // Stop particle effects
            if (particleIntervalL3) {
                clearInterval(particleIntervalL3);
                particleIntervalL3 = null;
            }

            const qubitCircle = document.getElementById('qubit-circle');
            const qubitValue = document.getElementById('qubit-value');
            const superpositionIndicator = document.getElementById('superposition-indicator');
            const qubitLabel = document.getElementById('qubit-label');
            const qubitTag = document.getElementById('qubit-tag');
            const measureBtn = document.getElementById('measure-btn-l3');
            const superpositionBtn = document.getElementById('superposition-btn');
            const particles = document.getElementById('qubit-particles-l3');
            const explanation = document.getElementById('qubit-explanation-l3');

            // Measure (50/50 chance)
            const result = Math.random() < 0.5 ? '0' : '1';
            const resultColor = result === '0' ? 'var(--color-green)' : 'var(--color-amber)';

            // Animate collapse
            if (qubitCircle) {
                qubitCircle.style.transform = 'scale(0.8)';
                qubitCircle.style.opacity = '0.5';
            }

            setTimeout(() => {
                // Hide superposition, show result
                if (superpositionIndicator) superpositionIndicator.style.display = 'none';
                if (qubitValue) {
                    qubitValue.style.display = 'block';
                    qubitValue.textContent = result;
                    qubitValue.style.color = resultColor;
                    qubitValue.style.fontSize = '5rem';
                }

                // Remove active state
                if (qubitCircle) {
                    qubitCircle.classList.remove('active');
                    qubitCircle.style.transform = 'scale(1)';
                    qubitCircle.style.opacity = '1';
                }

                // Update tag
                if (qubitTag) {
                    qubitTag.className = 'card-tag quantum';
                    qubitTag.textContent = 'Collapsed';
                }

                // Update label
                if (qubitLabel) {
                    qubitLabel.innerHTML = `Measured: <strong style="color: ${resultColor};">|${result}‚ü©</strong>`;
                }

                // Update explanation
                if (explanation) {
                    const icon = explanation.querySelector('i');
                    explanation.innerHTML = '';
                    if (icon) explanation.appendChild(icon.cloneNode());
                    const span = document.createElement('span');
                    span.innerHTML = `üí• Wave function collapsed to <strong style="color: ${resultColor};">|${result}‚ü©</strong>! Click "Create Superposition" to try again.`;
                    explanation.appendChild(span);
                }

                // Clear particles
                if (particles) particles.innerHTML = '';

                // Update buttons
                if (measureBtn) measureBtn.disabled = true;

                // Reset after 3 seconds
                setTimeout(() => {
                    qubitInSuperpositionL3 = false;

                    if (qubitValue) {
                        qubitValue.textContent = '‚öõÔ∏è';
                        qubitValue.style.color = 'var(--color-green)';
                        qubitValue.style.fontSize = '';
                    }

                    if (qubitLabel) {
                        qubitLabel.textContent = 'Initial State: |0‚ü©';
                    }

                    if (qubitTag) {
                        qubitTag.className = 'card-tag quantum';
                        qubitTag.textContent = 'Ready';
                    }

                    if (explanation) {
                        const icon = explanation.querySelector('i');
                        explanation.innerHTML = '';
                        if (icon) explanation.appendChild(icon.cloneNode());
                        const span = document.createElement('span');
                        span.textContent = 'Click "Create Superposition" to put the qubit in both states, then "Measure" to collapse it!';
                        explanation.appendChild(span);
                    }

                    if (superpositionBtn) superpositionBtn.disabled = false;
                }, 3000);
            }, 400);
        }

        lucide.createIcons();
    </script>
    <script src="../../../js/main.js"></script>
</body>

</html>