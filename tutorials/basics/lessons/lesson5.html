<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        (function () {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hadamard Gate - quantumstuff.org</title>
    <link rel="stylesheet" href="../css/styles.css">

    <!-- Q.js Library CSS -->
    <link rel="stylesheet" href="../../../libraries/q.js/Q/Q.css">
    <link rel="stylesheet" href="../../../libraries/q.js/Q/Q-Circuit-Editor.css">

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <style>
        /* White container for Q.js circuit (matching classical circuit style) */
        .qjs-circuit {
            background: #fff;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem auto;
            width: fit-content;
            max-width: 100%;
        }

        /* Hide the JavaScript console reference text */
        .Q-circuit > p {
            display: none !important;
        }

        /* Ensure proper z-index stacking for wires to be visible */
        .Q-circuit-board-background {
            z-index: 0;
        }

        .Q-circuit-board-foreground {
            z-index: 1;
        }

        /* Fix stacking effect visibility */
        .Q-circuit-palette {
            position: relative;
            isolation: isolate;
        }

        /* Remove scrollbars and center circuit */
        .Q-circuit-board-container {
            overflow: visible !important;
            max-height: none !important;
            display: flex !important;
            justify-content: center !important;
        }

        /* Style results output */
        #playground-report {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 0;
        }

        .qjs-circuit .truth-table {
            margin: 2rem 0;
        }

        .qjs-circuit .truth-table pre {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="header">
        <div class="header-content">
            <a href="../../../index.html" class="logo">quantumstuff</a>
            <div class="progress-track">
                <div class="progress-step completed"></div>
                <div class="progress-step completed"></div>
                <div class="progress-step completed"></div>
                <div class="progress-step completed"></div>
                <div class="progress-step active"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
                <div class="progress-step"></div>
            </div>
            <div class="header-actions">
                <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme">
                    <i data-lucide="sun" style="width:18px;height:18px"></i>
                </button>
            </div>
        </div>
    </header>

    <button class="mobile-menu-toggle" onclick="toggleSidebar()">‚ò∞ Menu</button>
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Foundations</div>
                <nav class="sidebar-nav">
                    <a href="lesson1.html" class="sidebar-link">1. Welcome to Quantum Computing</a>
                    <a href="lesson2.html" class="sidebar-link">2. Classical Computing Foundations</a>
                    <a href="lesson3.html" class="sidebar-link">3. Qubits and Superposition</a>
                    <a href="lesson4.html" class="sidebar-link">4. The X Gate</a>
                    <a href="lesson5.html" class="sidebar-link active">5. The Hadamard Gate</a>
                    <a href="lesson6.html" class="sidebar-link">6. Multiple Qubits</a>
                    <a href="lesson7.html" class="sidebar-link">7. The CNOT Gate</a>
                    <a href="lesson8.html" class="sidebar-link">8. Entanglement and Quantum Power</a>
                </nav>
            </div>
        </aside>

        <main class="content" id="main-content">
            <header class="lesson-header">
                <div class="lesson-meta">
                    <span class="lesson-number">Lesson 5</span>
                    <span>26 min read</span>
                </div>
                <h1>The Hadamard Gate</h1>
                <p class="subtitle">Master the most important gate in quantum computing‚Äîthe gateway to superposition and
                    quantum advantage.</p>
            </header>

            <section class="section">
                <h2 class="section-title">About This Lesson</h2>
                <ul>
                    <li>Understand why the Hadamard gate is fundamental to quantum computing</li>
                    <li>Learn how H creates equal superposition from basis states</li>
                    <li>Discover the H-H identity (H is self-inverse)</li>
                    <li>Visualize H on the Bloch sphere</li>
                </ul>
                <p><strong>Prerequisites:</strong> Lessons 1-4. Understanding of qubits, superposition, and the X gate.
                </p>
            </section>

            <section class="section" id="special">
                <h2 class="section-title">What Makes Hadamard Special?</h2>
                <p>The <span class="term" data-tooltip="Creates equal superposition"><strong>Hadamard gate</strong></span> (H) is the <strong>most important gate in quantum computing</strong>. It creates
                    <em>superposition</em>‚Äîthe quintessentially quantum phenomenon that gives quantum computers their power.</p>

                <div class="callout">
                    <div class="callout-title">
                        <i data-lucide="zap" style="width:16px;height:16px"></i>
                        Key Concept: Creating Equal Superposition
                    </div>
                    <p>When you apply H to |0‚ü©, it creates an equal superposition: 50% chance of measuring 0, 50% chance of measuring 1.</p>
                    <p>When you apply H to |1‚ü©, it also creates an equal superposition: 50% chance of measuring 0, 50% chance of measuring 1.</p>
                    <p style="margin-top: 1rem; color: var(--text-secondary); font-style: italic;">They look the same when you measure them... but are they really the same? ü§î</p>
                </div>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="split" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: H Gate Creates Superposition</span>
                    </div>
                    <div class="demo-content">
                        <p style="margin-bottom: 1rem;">Try applying H to |0‚ü© or |1‚ü©. Drag an H gate onto the circuit and run it. Notice both give 50/50 results!</p>
                        <div class="qjs-circuit">
                            <div class='Q-circuit-palette'></div>
                            <div id="h-superposition"></div>
                            <div class="truth-table">
                                <h4>Result probabilities</h4>
                                <pre><samp id="h-superposition-report"></samp></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="mystery">
                <h2 class="section-title">The Mystery Revealed: They're Different!</h2>
                <p>Both H|0‚ü© and H|1‚ü© give 50/50 measurement results. They seem identical. But here's the test: <strong>what happens if we apply H again?</strong></p>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="repeat" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: The H-H Test</span>
                    </div>
                    <div class="demo-content">
                        <p style="margin-bottom: 1rem;">Try these experiments:</p>
                        <ul style="margin-bottom: 1rem;">
                            <li><strong>Start with |0‚ü©:</strong> Apply H, then H again ‚Üí You get back to |0‚ü© (100% probability)</li>
                            <li><strong>Start with |1‚ü©:</strong> Apply H, then H again ‚Üí You get back to |1‚ü© (100% probability)</li>
                        </ul>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary);">If H|0‚ü© and H|1‚ü© were truly the same, they should both return to the same state. But they don't! This proves they're secretly different.</p>
                        <p style="margin-bottom: 1rem; padding: 0.75rem; background: var(--bg-primary); border-left: 3px solid var(--color-green); border-radius: 4px;">
                            <strong>üí° Tip:</strong> Click the input qubit value (the number on the left) to toggle between |0‚ü© and |1‚ü© initial states. Watch how the results change!
                        </p>
                        <div class="qjs-circuit">
                            <div class='Q-circuit-palette'></div>
                            <div id="hh-identity"></div>
                            <div class="truth-table">
                                <h4>Result probabilities</h4>
                                <pre><samp id="hh-identity-report"></samp></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="callout">
                    <div class="callout-title">
                        <i data-lucide="lightbulb" style="width:16px;height:16px"></i>
                        The Key Insight
                    </div>
                    <p>Measuring H|0‚ü© and H|1‚ü© gives the same probabilities (50/50). But they're <strong>different superpositions</strong>!</p>
                    <p style="margin-top: 0.5rem;">The difference? Something called <span class="term" data-tooltip="Sign/angle of quantum amplitude"><strong>phase</strong></span>. It's invisible to measurements alone, but it affects how quantum states interfere with each other.</p>
                </div>
            </section>

            <section class="section" id="phase">
                <h2 class="section-title">Understanding Phase: The Wave Analogy</h2>
                <p>Think of quantum states like waves. Two waves can have the same height (amplitude) but start at different points in their cycle‚Äîthis is what we call <strong>phase</strong>.</p>

                <div style="margin: 2rem 0; padding: 2rem; background: var(--bg-card); border-radius: 16px; border: 2px solid var(--color-green);">
                    <h3 style="color: var(--color-green); margin-bottom: 1.5rem; text-align: center;">Wave Phase Visualization</h3>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                        <!-- Wave in phase -->
                        <div style="text-align: center;">
                            <h4 style="color: var(--color-green); margin-bottom: 1rem;">Wave 1: "Positive Phase"</h4>
                            <svg width="200" height="100" viewBox="0 0 200 100" style="background: white; border-radius: 8px;">
                                <line x1="0" y1="50" x2="200" y2="50" stroke="#ddd" stroke-width="1"/>
                                <path d="M 0 50 Q 25 10, 50 50 T 100 50 T 150 50 T 200 50" stroke="var(--color-green)" stroke-width="3" fill="none"/>
                            </svg>
                            <p style="margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">Starts going UP</p>
                        </div>

                        <!-- Wave out of phase -->
                        <div style="text-align: center;">
                            <h4 style="color: var(--color-amber); margin-bottom: 1rem;">Wave 2: "Negative Phase"</h4>
                            <svg width="200" height="100" viewBox="0 0 200 100" style="background: white; border-radius: 8px;">
                                <line x1="0" y1="50" x2="200" y2="50" stroke="#ddd" stroke-width="1"/>
                                <path d="M 0 50 Q 25 90, 50 50 T 100 50 T 150 50 T 200 50" stroke="var(--color-amber)" stroke-width="3" fill="none"/>
                            </svg>
                            <p style="margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">Starts going DOWN</p>
                        </div>
                    </div>

                    <div style="background: rgba(22, 163, 74, 0.05); padding: 1.5rem; border-radius: 12px;">
                        <h4 style="color: var(--color-green); margin-bottom: 1rem;">What happens when we combine them?</h4>
                        <div style="text-align: center; margin-top: 1rem;">
                            <svg width="200" height="100" viewBox="0 0 200 100" style="background: white; border-radius: 8px; display: inline-block;">
                                <line x1="0" y1="50" x2="200" y2="50" stroke="#ddd" stroke-width="1"/>
                                <line x1="100" y1="0" x2="100" y2="100" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                                <text x="105" y="45" fill="#666" font-size="12">They cancel!</text>
                            </svg>
                            <p style="margin-top: 1rem; color: var(--text-secondary);">When waves with opposite phases meet, they <strong>cancel each other out</strong>. This is called <strong>destructive interference</strong>.</p>
                        </div>
                    </div>
                </div>

                <div class="callout">
                    <div class="callout-title">
                        <i data-lucide="zap" style="width:16px;height:16px"></i>
                        Phase in Quantum Computing
                    </div>
                    <p>H|0‚ü© creates a superposition where both |0‚ü© and |1‚ü© components have <strong>positive phase</strong>. We call this state <span class="term" data-tooltip="Superposition: (|0‚ü©+|1‚ü©)/‚àö2"><strong>|+‚ü©</strong></span>.</p>
                    <p>H|1‚ü© creates a superposition where |0‚ü© has positive phase but |1‚ü© has <strong>negative phase</strong>. We call this state <span class="term" data-tooltip="Superposition: (|0‚ü©‚àí|1‚ü©)/‚àö2"><strong>|‚àí‚ü©</strong></span> (pronounced "ket minus").</p>
                    <p style="margin-top: 1rem;">When we apply H again:</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>For |+‚ü©: The phases align perfectly and we get back |0‚ü©</li>
                        <li>For |‚àí‚ü©: The phases cause <span class="term" data-tooltip="Amplitudes combining to amplify/cancel">interference</span> and we get back |1‚ü©</li>
                    </ul>
                </div>

                <details class="advanced-section type-math">
                    <summary>üî¨ For Advanced Learners: The Mathematics of Phase</summary>
                    <div class="advanced-content">
                        <p>Mathematically, the Hadamard gate creates these states:</p>
                        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 1rem 0; font-family: 'Courier New', monospace;">
                            H|0‚ü© = |+‚ü© = (1/‚àö2)|0‚ü© + (1/‚àö2)|1‚ü©<br>
                            H|1‚ü© = |‚àí‚ü© = (1/‚àö2)|0‚ü© ‚àí (1/‚àö2)|1‚ü©
                        </div>
                        <p>The <strong>minus sign</strong> in |‚àí‚ü© represents the negative phase on the |1‚ü© component. Both states have:</p>
                        <ul>
                            <li><strong>Same amplitudes:</strong> 1/‚àö2 for both |0‚ü© and |1‚ü©</li>
                            <li><strong>Different phases:</strong> The sign difference creates opposite phases</li>
                            <li><strong>Same measurement probabilities:</strong> |1/‚àö2|¬≤ = 1/2 = 50% for both</li>
                        </ul>
                        <p style="margin-top: 1rem;">Phase matters for <strong>interference</strong>‚Äîwhen quantum operations combine amplitudes, the signs can add constructively or cancel destructively. This is the key to quantum algorithms!</p>
                    </div>
                </details>
            </section>

            <section class="section" id="bloch">
                <h2 class="section-title">Visualizing H on the Bloch Sphere</h2>
                <p>The Bloch sphere is a beautiful 3D representation of single-qubit states. Think of it as a globe where every point represents a different quantum state:</p>
                <ul style="margin: 1rem 0;">
                    <li><strong>North pole:</strong> |0‚ü© (definitely zero)</li>
                    <li><strong>South pole:</strong> |1‚ü© (definitely one)</li>
                    <li><strong>Equator:</strong> Superposition states like |+‚ü© and |‚àí‚ü©</li>
                </ul>
                <p>The Hadamard gate rotates the qubit on the Bloch sphere. Watch how H moves |0‚ü© from the north pole to the equator, creating the |+‚ü© state!</p>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="globe" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Interactive: H Gate on Bloch Sphere</span>
                    </div>
                    <div class="demo-content" style="padding:0">
                        <iframe src="../visualizations/bloch-viz-clean.html"
                            style="width:100%;height:450px;border:none;border-radius:8px;background:white;"></iframe>
                    </div>
                </div>

                <details class="advanced-section type-connections">
                    <summary>üéØ For Advanced Learners: Explore Any Quantum State</summary>
                    <div class="advanced-content">
                        <p>Use the interactive sliders below to explore how the Hadamard gate affects any quantum state on the Bloch sphere. You can adjust the Œ∏ (theta) and œÜ (phi) angles to create any single-qubit state.</p>
                        <p style="margin-top: 0.5rem; color: var(--text-secondary);"><strong>Technical details:</strong> The Bloch sphere uses spherical coordinates where Œ∏ represents the angle from the north pole (related to the probability of measuring 0 vs 1), and œÜ represents the phase angle around the equator.</p>
                        <iframe src="../visualizations/bloch-viz-sliders.html"
                            style="width:100%;height:550px;border:none;border-radius:8px;background:white;margin-top:1rem;"></iframe>
                    </div>
                </details>
            </section>

            <section class="section" id="combinations">
                <h2 class="section-title">Combining H with Other Gates</h2>

                <div class="demo">
                    <div class="demo-header">
                        <div class="demo-icon"><i data-lucide="workflow" style="width:18px;height:18px"></i></div>
                        <span class="demo-title">Experiment: H and X Combinations</span>
                    </div>
                    <div class="demo-content">
                        <p style="margin-bottom: 1rem;">Try different combinations: H, X‚ÜíH, H‚ÜíX, or H‚ÜíX‚ÜíH. See how the order matters!</p>
                        <div class="qjs-circuit">
                            <div class='Q-circuit-palette'></div>
                            <div id="hx-combinations"></div>
                            <div class="truth-table">
                                <h4>Result probabilities</h4>
                                <pre><samp id="hx-combinations-report"></samp></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="z-gate">
                <h2 class="section-title">The Z Gate: Phase Flip</h2>
                <p>You've learned two important gates: <strong>X</strong> (bit flip) and <strong>H</strong> (creates superposition). Now meet the third fundamental gate: <span class="term" data-tooltip="Phase flip gate"><strong>Z</strong></span> (phase flip)!</p>

                <div style="margin: 2rem 0; padding: 2rem; background: var(--bg-card); border-radius: 16px; border: 2px solid #b45309;">
                    <h3 style="color: #b45309; margin-bottom: 1.5rem; text-align: center;">How Z Gate Works</h3>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                        <div style="text-align: center; padding: 1.5rem; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">|0‚ü©</div>
                            <div style="font-size: 2rem; color: #b45309; margin: 1rem 0;">‚Üì Z</div>
                            <div style="font-size: 3rem; margin-bottom: 1rem;">|0‚ü©</div>
                            <p style="margin: 0; color: var(--text-secondary); font-size: 0.9375rem;">Z leaves |0‚ü© unchanged</p>
                        </div>

                        <div style="text-align: center; padding: 1.5rem; background: var(--bg-secondary); border-radius: 12px;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">|1‚ü©</div>
                            <div style="font-size: 2rem; color: #b45309; margin: 1rem 0;">‚Üì Z</div>
                            <div style="font-size: 3rem; margin-bottom: 1rem;">‚àí|1‚ü©</div>
                            <p style="margin: 0; color: var(--text-secondary); font-size: 0.9375rem;">Z adds a minus sign to |1‚ü©</p>
                        </div>
                    </div>

                    <div style="background: rgba(180, 83, 9, 0.08); padding: 1.5rem; border-radius: 12px;">
                        <p style="margin: 0;"><strong>Mathematically:</strong></p>
                        <ul style="margin-top: 0.5rem;">
                            <li>Z|0‚ü© = |0‚ü©</li>
                            <li>Z|1‚ü© = ‚àí|1‚ü©</li>
                        </ul>
                    </div>
                </div>

                <div class="callout" style="margin: 2rem 0;">
                    <div class="callout-title">
                        <i data-lucide="lightbulb" style="width:16px;height:16px"></i>
                        Why Does the Minus Sign Matter?
                    </div>
                    <p>The minus sign changes the <strong>phase</strong> of the quantum state. While it doesn't affect measurement probabilities directly, it's crucial for <strong>interference</strong>!</p>
                    <p style="margin-top: 1rem;">Remember from earlier how phases can cancel out (destructive interference)? The Z gate is how we flip phases to create those cancellation effects in quantum algorithms.</p>
                </div>

                <div style="margin: 2rem 0; padding: 1.5rem; background: var(--bg-card); border-radius: 12px; border: 2px solid var(--color-green);">
                    <h4 style="color: var(--color-green); margin-bottom: 1rem;">The Complete Pauli Gate Set</h4>
                    <p>Together, X, Y, and Z form the <strong>Pauli gates</strong>‚Äîthe fundamental building blocks of quantum computing:</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                        <div style="text-align: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">X</div>
                            <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">Bit flip</p>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">Y</div>
                            <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">Bit + phase flip</p>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">Z</div>
                            <p style="margin: 0; font-size: 0.875rem; color: var(--text-secondary);">Phase flip</p>
                        </div>
                    </div>
                </div>
            </section>

            <div class="callout" style="margin: 2rem 0;">
                <div class="callout-title">
                    <i data-lucide="book-open" style="width:16px;height:16px"></i>
                    Why Complex Numbers in Quantum Computing?
                </div>
                <p>You might have noticed we use complex numbers (like 1/‚àö2 and ‚àí1) in quantum states. But why can't we just use regular (real) numbers?</p>
                <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                    <p style="margin: 0;"><strong>Real numbers aren't enough because:</strong></p>
                    <ul style="margin-top: 0.5rem;">
                        <li>We need to represent both <strong>magnitude</strong> (how much) and <strong>direction</strong> (phase)</li>
                        <li>Real numbers can only be positive or negative‚Äîone dimension</li>
                        <li>Complex numbers give us two dimensions: real and imaginary parts</li>
                    </ul>
                </div>
                <p style="margin-top: 1rem;"><strong>Think of it like GPS coordinates:</strong></p>
                <ul style="margin-top: 0.5rem;">
                    <li><strong>Real number:</strong> "5 meters away" (distance, but which direction?)</li>
                    <li><strong>Complex number:</strong> "3 meters east, 4 meters north" (distance AND direction!)</li>
                </ul>
                <p style="margin-top: 1rem;">Phase is like the quantum "direction"‚Äîit determines how quantum states interfere with each other. Without complex numbers, we couldn't represent phase, and quantum computing wouldn't work!</p>
            </div>

            <div class="callout" style="margin: 2rem 0;">
                <div class="callout-title">
                    <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
                    What's Next: Multiple Qubits
                </div>
                <p>You've mastered single-qubit gates (X, H, Z) and understand phase! But a single qubit can only store one piece of quantum information. The real power of quantum computing emerges when we use <strong>multiple qubits</strong> together.</p>
                <p style="margin-top: 1rem;"><strong>What you'll discover next:</strong></p>
                <ul style="margin-top: 0.5rem;">
                    <li>How 2 qubits create 4 possible states</li>
                    <li>Why 300 qubits would have more states than atoms in the universe!</li>
                    <li>How to represent and manipulate multi-qubit systems</li>
                </ul>
                <p style="margin-top: 1rem; font-style: italic; color: var(--text-secondary);">Ready to scale up? Let's explore the exponential world of multiple qubits!</p>
            </div>

            <section class="section" id="playground-section">
                <h2 class="section-title">Interactive Circuit Playground</h2>
                <p>Want to build and experiment with your own quantum circuits? Check out our dedicated Circuit Playground!</p>

                <div class="callout" style="background: var(--bg-highlight); border-left: 4px solid var(--color-green);">
                    <div class="callout-title">
                        <i data-lucide="external-link" style="width:16px;height:16px"></i>
                        Circuit Playground
                    </div>
                    <div class="callout-content">
                        <p>Use the interactive quantum circuit builder to create and test your own circuits with drag-and-drop gates.</p>
                        <a href="../../../interactive/quantum-circuit-playground.html" style="display: inline-flex; align-items: center; gap: 0.5rem; margin-top: 0.75rem; padding: 0.75rem 1.25rem; background: var(--color-green); color: white; text-decoration: none; border-radius: 6px; font-weight: 500; transition: all 0.2s;">
                            Open Circuit Playground
                            <i data-lucide="arrow-right" style="width:16px;height:16px;"></i>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Learning Checkpoint -->
            <div class="callout" style="margin: 2rem 0; background: var(--bg-highlight); border-left: 4px solid var(--color-purple);">
                <div class="callout-title">
                    <i data-lucide="check-circle" style="width:16px;height:16px"></i>
                    ‚úì Learning Checkpoint
                </div>
                <p style="margin-bottom: 0.75rem;"><strong>Before moving on, can you:</strong></p>
                <ul class="checklist" style="list-style: none; padding-left: 0;">
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Explain what the H gate creates?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Understand why H¬∑H = I (two H gates cancel)?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Describe what phase means and why it matters?</li>
                    <li style="margin: 0.5rem 0;"><input type="checkbox" style="margin-right: 0.5rem;"> Name all three Pauli gates (X, Y, Z)?</li>
                </ul>
                <p style="margin-top: 1rem; font-size: 0.875rem; opacity: 0.9;"><em>If you checked all boxes, you've mastered the gates! If not, review above.</em></p>
            </div>

            <!-- Misconception Box -->
            <div class="callout" style="margin: 2rem 0; background: #fef3c7; border-left: 4px solid #f59e0b;">
                <div class="callout-title">
                    <i data-lucide="alert-triangle" style="width:16px;height:16px"></i>
                    Common Misconception
                </div>
                <p style="margin: 0.5rem 0;"><strong>‚ùå Wrong:</strong> "Phase doesn't matter since |+‚ü© and |‚àí‚ü© both measure 50/50"</p>
                <p style="margin: 0.5rem 0;"><strong>‚úì Correct:</strong> Phase IS crucial! It determines interference patterns. Watch: H(|+‚ü©) = |0‚ü© but H(|‚àí‚ü©) = |1‚ü©. Same probabilities, different outcomes after gates!</p>
            </div>

            <!-- Quick Reference Card -->
            <section class="section" id="quick-reference">
                <h2 class="section-title">üìã Quick Reference Card</h2>
                <div style="background: var(--bg-card); border: 2px solid var(--color-green); border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                    <h3 style="color: var(--color-green); margin-bottom: 1.5rem;">Hadamard & Pauli Gates Cheat Sheet</h3>

                    <div style="display: grid; gap: 1.5rem;">
                        <div>
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">Essential Gate Operations</h4>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="background: var(--bg-secondary);">
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Gate</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">H|0‚ü© =</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Function</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>H (Hadamard)</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">|+‚ü©</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Creates/destroys superposition</td>
                                </tr>
                                <tr style="background: var(--bg-secondary);">
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>X (Bit flip)</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">|1‚ü©</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Flips |0‚ü© ‚Üî |1‚ü©</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>Z (Phase flip)</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">|0‚ü©</td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Adds ‚àí to |1‚ü© component</td>
                                </tr>
                            </table>
                        </div>

                        <div>
                            <h4 style="color: var(--color-amber); margin-bottom: 0.5rem;">Important Identities</h4>
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr style="background: var(--bg-secondary);">
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Identity</th>
                                    <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border-subtle);">Meaning</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>H¬∑H = I</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Two H gates cancel out</td>
                                </tr>
                                <tr style="background: var(--bg-secondary);">
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>X¬∑X = I</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Two X gates cancel out</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);"><strong>Z¬∑Z = I</strong></td>
                                    <td style="padding: 0.75rem; border: 1px solid var(--border-subtle);">Two Z gates cancel out</td>
                                </tr>
                            </table>
                        </div>

                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--color-green);">
                            <p style="margin: 0; font-size: 0.9375rem;"><strong>üí° Key Insight:</strong> H creates superposition, X flips bits, Z flips phase. Together (X, Y, Z) form the Pauli gates‚Äîthe fundamental building blocks!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Glossary -->
            <section class="section" id="glossary">
                <h2 class="section-title">Glossary</h2>
                <dl class="term-list">
                    <dt>Hadamard Gate (H)</dt>
                    <dd><strong>Pronunciation:</strong> HAD-uh-mard<br><strong>Definition:</strong> The most important quantum gate‚Äîcreates and destroys equal superposition</dd>

                    <dt>Phase</dt>
                    <dd><strong>Definition:</strong> The "direction" of a quantum amplitude in complex space, determines interference patterns</dd>

                    <dt>|+‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket plus<br><strong>Definition:</strong> Equal superposition with positive phase: (|0‚ü© + |1‚ü©)/‚àö2</dd>

                    <dt>|‚àí‚ü©</dt>
                    <dd><strong>Pronunciation:</strong> ket minus<br><strong>Definition:</strong> Equal superposition with negative phase: (|0‚ü© - |1‚ü©)/‚àö2</dd>

                    <dt>Interference</dt>
                    <dd><strong>Definition:</strong> When quantum amplitudes combine, phases can add (constructive) or cancel (destructive)</dd>

                    <dt>X Gate (Pauli X)</dt>
                    <dd><strong>Definition:</strong> Bit flip gate: swaps |0‚ü© ‚Üî |1‚ü©</dd>

                    <dt>Z Gate (Pauli Z)</dt>
                    <dd><strong>Pronunciation:</strong> Z gate or zee gate<br><strong>Definition:</strong> Phase flip gate: adds minus sign to |1‚ü© component</dd>

                    <dt>Pauli Gates</dt>
                    <dd><strong>Definition:</strong> The three fundamental single-qubit gates: X (bit flip), Y (bit+phase flip), Z (phase flip)</dd>

                    <dt>Bloch Sphere</dt>
                    <dd><strong>Pronunciation:</strong> BLOCK<br><strong>Definition:</strong> A 3D sphere visualization of all possible single-qubit states</dd>

                    <dt>Complex Numbers</dt>
                    <dd><strong>Definition:</strong> Numbers with real and imaginary parts (a + bi), needed to represent quantum phase</dd>
                </dl>
            </section>

            <section class="section quiz-section" id="quiz">
                <h2 class="section-title">Test Your Understanding</h2>

                <div class="quiz-question" data-question="1">
                    <p class="question-text"><strong>Q1:</strong> What does the H gate do to |0‚ü©?</p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q1" value="a"><span>Keeps it as
                                |0‚ü©</span></label>
                        <label class="option"><input type="radio" name="q1" value="b"><span>Flips it to
                                |1‚ü©</span></label>
                        <label class="option"><input type="radio" name="q1" value="c"><span>Creates equal superposition
                                |+‚ü©</span></label>
                    </div>
                    <div class="feedback" id="feedback-1"></div>
                </div>

                <div class="quiz-question" data-question="2">
                    <p class="question-text"><strong>Q2:</strong> What is H-H (H applied twice)?</p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q2" value="a"><span>Returns to original
                                state</span></label>
                        <label class="option"><input type="radio" name="q2" value="b"><span>Stays in
                                superposition</span></label>
                        <label class="option"><input type="radio" name="q2" value="c"><span>Random result</span></label>
                    </div>
                    <div class="feedback" id="feedback-2"></div>
                </div>

                <div class="quiz-question" data-question="3">
                    <p class="question-text"><strong>Q3:</strong> Why is H the most important quantum gate?</p>
                    <div class="quiz-options">
                        <label class="option"><input type="radio" name="q3" value="a"><span>It's the
                                fastest</span></label>
                        <label class="option"><input type="radio" name="q3" value="b"><span>It creates
                                superposition</span></label>
                        <label class="option"><input type="radio" name="q3" value="c"><span>It measures
                                qubits</span></label>
                    </div>
                    <div class="feedback" id="feedback-3"></div>
                </div>

                <button class="btn-primary" onclick="checkAnswersL5(this)">Check Answers</button>
                <div id="quiz-score" class="quiz-result"></div>
            </section>

            <nav class="nav-footer">
                <a href="lesson4.html" class="nav-btn nav-btn-prev">‚Üê Previous</a>
                <a href="lesson6.html" class="nav-btn nav-btn-next">Next: Multiple Qubits ‚Üí</a>
            </nav>
        </main>

        <aside class="toc">
            <div class="toc-title">On This Page</div>
            <nav class="toc-list">
                <a href="#special" class="toc-link">What Makes H Special</a>
                <a href="#mystery" class="toc-link">The Mystery Revealed</a>
                <a href="#phase" class="toc-link">Understanding Phase</a>
                <a href="#bloch" class="toc-link">Bloch Sphere</a>
                <a href="#combinations" class="toc-link">Combinations</a>
                <a href="#playground-section" class="toc-link">Circuit Playground</a>
                <a href="#quiz" class="toc-link">Quiz</a>
            </nav>
        </aside>
    </div>

    <script src="../js/quantum-utils.js"></script>
    <script src="../lib/math.min.js"></script>
    <script src="../js/math_support.js"></script>
    <script src="../js/ports.js"></script>

    <script type="module">
        import * as THREE from '../lib/three.module.js';
        import { OrbitControls } from '../lib/OrbitControls.js';

        window.THREE = THREE;
        window.OrbitControls = OrbitControls;

        const blochVizScript = document.createElement('script');
        blochVizScript.src = '../js/bloch-viz-integration.js';
        blochVizScript.onload = function () {
            const blochConfigScript = document.createElement('script');
            blochConfigScript.src = '../js/bloch-sphere-config.js';
            blochConfigScript.onload = function () {
                const lessonScript = document.createElement('script');
                lessonScript.src = '../js/lesson5.js';
                document.body.appendChild(lessonScript);
            };
            document.body.appendChild(blochConfigScript);
        };
        document.body.appendChild(blochVizScript);
    </script>

    <!-- Q.js Library -->
    <script src="../../../libraries/q.js/Q/Q.js"></script>
    <script src="../../../libraries/q.js/Q/Q-ComplexNumber.js"></script>
    <script src="../../../libraries/q.js/Q/Q-Matrix.js"></script>
    <script src="../../../libraries/q.js/Q/Q-Qubit.js"></script>
    <script src="../../../libraries/q.js/Q/Q-Gate.js"></script>
    <script src="../../../libraries/q.js/Q/Q-History.js"></script>
    <script src="../../../libraries/q.js/Q/Q-Circuit.js"></script>
    <script src="../../../libraries/q.js/Q/Q-Circuit-Editor.js"></script>

    <script>
        // Create gate palettes (EXACT copy from playground.html)
        Array
        .from( document.querySelectorAll( '.Q-circuit-palette' ))
        .forEach( function( el ){
            Q.Circuit.Editor.createPalette( el )
        })

        // Initialize circuits on page load
        window.addEventListener( 'DOMContentLoaded', function(){
            // H superposition circuit (1 qubit, 7 moments)
            const hCircuit = new Q.Circuit( 1, 7 )
            hCircuit.name = 'h-superposition'
            const hDomEl = document.getElementById( 'h-superposition' )
            if( hDomEl ){
                hCircuit.sort$()
                hCircuit.toDom( hDomEl )
                hCircuit.evaluate$()
            }

            // H-H identity circuit (1 qubit, 7 moments)
            const hhCircuit = new Q.Circuit( 1, 7 )
            hhCircuit.name = 'hh-identity'
            const hhDomEl = document.getElementById( 'hh-identity' )
            if( hhDomEl ){
                hhCircuit.sort$()
                hhCircuit.toDom( hhDomEl )
                hhCircuit.evaluate$()

                // Make input qubit clickable to toggle between |0‚ü© and |1‚ü©
                const inputEl = hhDomEl.querySelector('.Q-circuit-input')
                if( inputEl ){
                    inputEl.style.cursor = 'pointer'
                    inputEl.style.userSelect = 'none'
                    inputEl.setAttribute('title', 'Qubit #0 starting value (click to toggle between |0‚ü© and |1‚ü©)')

                    inputEl.addEventListener('click', function(){
                        // Toggle between |0‚ü© and |1‚ü©
                        // Q.js now properly reads initial state from circuit.qubits
                        const currentBeta = hhCircuit.qubits[0].beta.real

                        if( Math.abs(currentBeta) < 0.5 ){
                            // Currently |0‚ü©, switch to |1‚ü©
                            hhCircuit.qubits[0] = new Q.Qubit(0, 1, 'V', 'Vertical')
                        } else {
                            // Currently |1‚ü©, switch to |0‚ü©
                            hhCircuit.qubits[0] = new Q.Qubit(1, 0, 'H', 'Horizontal')
                        }

                        hhCircuit.evaluate$()

                        const currentInputEl = hhDomEl.querySelector('.Q-circuit-input')
                        if( currentInputEl ){
                            currentInputEl.innerText = hhCircuit.qubits[0].beta.toText()
                        }

                        const reportEl = document.getElementById('hh-identity-report')
                        if( reportEl ) {
                            reportEl.innerText = hhCircuit.report$()
                        }
                    })
                }
            }

            // H and X combinations circuit (1 qubit, 7 moments)
            const hxCircuit = new Q.Circuit( 1, 7 )
            hxCircuit.name = 'hx-combinations'
            const hxDomEl = document.getElementById( 'hx-combinations' )
            if( hxDomEl ){
                hxCircuit.sort$()
                hxCircuit.toDom( hxDomEl )
                hxCircuit.evaluate$()
            }

        })
    </script>

    <script>
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
            document.querySelector('.sidebar-overlay').classList.toggle('open');
        }
        lucide.createIcons();
    </script>
    <script src="../../../js/main.js"></script>
</body>

</html>